<html>
    <head>
        <link rel="stylesheet" href="cropme.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css"
            crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js"
            crossorigin="anonymous"></script>
    </head>
    <body>
        <div id="container"></div>
        
        <!-- or use image tag -->
        <img src="../img/rostroBoxeador.jpg" id="myImage" />
        
        <button id="cortar">Cortar</button>
        <img src="" id="cortada" />
        <input type="file" id="fichero" />
        
        <script src="cropme.min.js"></script>
        <script>

            function readURL(input) {
                    if (input.files && input.files[0]) {
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            $('.cropme-container img').attr('src', e.target.result);
                        }
                        reader.readAsDataURL(input.files[0]);
                    }
                }

            

            $(function () {
                var element = document.getElementById('myImage');
                var options= {
                    "container": {
                        "width": "100%",
                        "height": 1200
                    },
                    "viewport": {
                        "width": 800,
                        "height": 800,
                        "type": "circle",
                        "border": {
                            "width": 2,
                            "enable": true,
                            "color": "#fff"
                        }
                    },
                    "zoom": {
                        "enable": true,
                        "mouseWheel": false,
                        "slider": true
                    },
                    "rotation": {
                        "slider": false,
                        "enable": true,
                        "position": "left"
                    },
                    "transformOrigin": "viewport"
                }

                var cc=$('#myImage').cropme(options);


                $("#cortar").on("click", function () {


                    /*var a= cc.cropme('crop', {
                        type: 'base64',
                        width: 800
                    });*/

                    // no parameter
                    cc.cropme("crop")
                        .then(function (output) {
                            // here you can use the base64 output
                            $("#cortada").attr("src", output)
                        });
                })

                $("#fichero").on("change", function () {
                    
                    readURL(this);

                })
            }); 
                
    
        </script>
    </body>
</html>